// Copyright (c) 2025 The Stdlib Authors. License is Apache-2.0: http://www.apache.org/licenses/LICENSE-2.0
/// <reference types="./index.d.ts" />
import s from"https://cdn.jsdelivr.net/gh/stdlib-js/utils-define-nonenumerable-read-only-property@v0.2.1-esm/index.mjs";import e from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-ndarray-like@v0.2.2-esm/index.mjs";import i from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-function@v0.2.2-esm/index.mjs";import r from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-unary-reduce-subarray-by@esm/index.mjs";import t from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-count-if@esm/index.mjs";import n from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-spread-dimensions@esm/index.mjs";import d from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-indices-complement@esm/index.mjs";import m from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-shape@v0.2.2-esm/index.mjs";import o from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-order@v0.2.2-esm/index.mjs";import l from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-empty@v0.3.0-esm/index.mjs";import p from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-defaults@v0.3.0-esm/index.mjs";import a from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-take-indexed@v0.2.2-esm/index.mjs";import j from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-zero-to@v0.2.1-esm/index.mjs";import h from"https://cdn.jsdelivr.net/gh/stdlib-js/object-assign@v0.2.2-esm/index.mjs";import f from"https://cdn.jsdelivr.net/gh/stdlib-js/error-tools-fmtprodmsg@v0.2.2-esm/index.mjs";import v from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-plain-object@v0.2.2-esm/index.mjs";import u from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-has-own-property@v0.2.2-esm/index.mjs";import{isPrimitive as b}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-boolean@v0.2.2-esm/index.mjs";import{primitives as c}from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-integer-array@v0.2.2-esm/index.mjs";import g from"https://cdn.jsdelivr.net/gh/stdlib-js/assert-is-empty-collection@v0.2.2-esm/index.mjs";import y from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-base-to-unique-normalized-indices@esm/index.mjs";import x from"https://cdn.jsdelivr.net/gh/stdlib-js/array-base-join@v0.1.1-esm/index.mjs";import w from"https://cdn.jsdelivr.net/gh/stdlib-js/ndarray-ndims@v0.2.2-esm/index.mjs";var E={dims:null,keepdims:!1};function T(s,e,i){var r;if(!v(i))return new TypeError(f("null2V",i));if(u(i,"keepdims")&&(s.keepdims=i.keepdims,!b(s.keepdims)))return new TypeError(f("null2o","keepdims",s.keepdims));if(u(i,"dims")){if(s.dims=i.dims,!c(s.dims)&&!g(s.dims))return new TypeError(f("invalid option. `%s` option must be an array of integers. Option: `%s`.","dims",s.dims));if(null===(r=y(s.dims,e-1)))return new RangeError(f("invalid option. `%s` option contains an out-of-bounds dimension index. Option: [%s].","dims",x(s.dims,",")));if(r.length!==s.dims.length)return new Error(f("invalid option. `%s` option contains duplicate indices. Option: [%s].","dims",x(s.dims,",")));if(r.length>e)return new RangeError(f("invalid option. `%s` option specifies more dimensions than exists in the input array. Number of dimensions: %d. Option: [%s].",e,x(s.dims,",")));s.dims=r}return null}var k=p.get("dtypes.integer_index");function N(s,p,v,u){var b,c,g,y,x,w,N,O,z,R,V,q;if(b=arguments.length,!e(s))throw new TypeError(f("null5t",s));if(b<3){if(!i(z=p))throw new TypeError(f("null2H",z))}else if(b>3){if(O=!0,R=p,!i(z=v))throw new TypeError(f("null3N",z));N=u}else if(i(p))z=p,N=v;else{if(!i(v))throw new TypeError(f("null3N",v));O=!0,R=p,z=v}if(V=(x=m(s)).length,c=h({},E),O&&(g=T(c,V,R)))throw g;return null===c.dims&&(c.dims=j(V)),y=d(V,c.dims),w=a(x,y),q=l(w,{dtype:k,order:o(s)}),r(t,[s,q],c.dims,z,N),c.keepdims&&(q=n(V,q,y,!0)),q}function O(s,n,d,m,o){var l,p,a,v,u,b,c,g;if(l=arguments.length,!e(s))throw new TypeError(f("null5t",s));if(!e(n))throw new TypeError(f("invalid argument. Second argument must be an ndarray-like object. Value: `%s`.",n));if(l<4){if(!i(b=d))throw new TypeError(f("null3N",b))}else if(l>4){if(v=!0,c=d,!i(b=m))throw new TypeError(f("null32",b));u=o}else if(i(d))b=d,u=m;else{if(!i(m))throw new TypeError(f("null32",m));v=!0,c=d,b=m}if(g=w(s),p=h({},E),v&&(a=T(p,g,c)))throw a;return null===p.dims&&(p.dims=j(g)),r(t,[s,n],p.dims,b,u),n}s(N,"assign",O);export{O as assign,N as default};
//# sourceMappingURL=index.mjs.map
